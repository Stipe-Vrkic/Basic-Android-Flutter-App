# Automatically generated on 2023-01-17 UTC from https://codemagic.io/app/63c65575405e5957ba2d22ad/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 30
    environment:
      vars:
        FCI_KEYSTORE_PATH: /tmp/keystore.keystore
        FCI_KEYSTORE: Encrypted(Z0FBQUFBQmp4bHdiZFdnU0dWNWlQQzF1SzhEQXVkTkhtTkNMMURVUV9ld2NYRk9PSGFtWERhM21mdGM4SFdCN2h2UW80eko4dUtpMTgwemZfaVZYTHZqLW00dDVZc0F2NHZxZ2pCdTczbTlwY1EyQ0RjXzFreDVCakNrcm9tdzJRb2RnYlRQamt2VkRwdnRnMUlQT3h2Qmg0Uk9FcDhIa2NUemZKM3VzTWktWHJ5MVRPVU5iWU93UzZobUV3YllPM0JkNHBJTHBGa1Q1a09TWW10ZGJ5YkhCOGFPaHdfT0RTS05VZ0tHVGM2dE1nWTBLOUU1bU1rekZlUV94TU1wZ0tRMXNqRm1sNlVfQ1hDZnhDaTBRbkpOaHZJd2FNaGFIUG9iQXRJZ3F1cWl2VmdtMFBxaDFMamE1enF6a3lXdEZmbV9fMHh3d19wRk1JLUtndjRYZ2NEWjBPU0Y4SGU1eVBrbllseGlsaGVpSzJGWjJ6Q0VKZUJTY0tiZDFidzIxQks5QnlRLVZIOFJZX3BkVXZJU0x3MG4wSnJRRENra3RhYTRkZFMwdW5SRFAyUTFMZ2F5eDhrMWtKd3hCRFNtR3VvaVRSNFJwLTZ2OUNEZTZpTklKRGJCdHZwdVB6cVRyOHNSakZWSm9TcGVxYnhnSi11MVZJaFFfUVMtanBIRFlaY3RzVmpwTXhYSEt2dEZDdGVPcWxYVnBiRG9hZVg0SlBUVmVlbExLZ0U4QkdwazFQLUh5X0pvZlZJZXZtV0o2SFZUZXpMVWFpWWkyeDVFSEVoZC1sMFRJbWFQZUV2VXVZbG10R01IcGZRNGVKRzF0d2s4WHR0MkFHc2NFdWVtNTRncXNtM2dJdEZLa3pKQVB4Ykhnay1rLTNMRGVvckdWSlBvUkJoZEpRRWRxdk9Hc2RxN2NYOFMxZTVhVmdJSkJhNFhncjdrUmxScmRmOEVha3lkTlFnUDh3NUlCbklSSmRxSDAzdnVyZ3pwb3VUMk03QWdwZ0RXXzEyYnFPV1NoRm4zSFRGdlVaLUtBQUJzc1hVR1VMTnVQRDVPQzhpTTNESWV2UDlXWmw4ek1ZWmQ0WFA1RG41TURmRW9LRzByQ2xwSnkwNnAwanFZWnlZZGh2ZUhsQU9FTGxueGJhNkhkczU3VnRHekluMmpVVk1HdlpybTZCS2pIcmhSbXd3NzdNdWlId1VOUnZyN1RlNnN6TjFFblNRRVU5eUszNVpQNE81WEx2LWVOU0hZNTVFUWRBVkxuU3VMU1VjTXNDS2JtWXV0QXBXZ2dzeFJ3bV95dmQ2anNhbmc0ckYta0tsYXdzRnhfU1RUTEpqOEQzZlJGZFFZYXVCdWZuY3k3TlNMRFctdmx2VENxMUhEb3YtMUJVOEZzdGZwc1RYSGVVelB3ai05RXB6WmxTb2RqNGppMGJqTGwwLWpBUnVfVVVZaDRHempyV091ZmdsOGlaNDdtWVRWa0R1YmJGaGF4N1AzeUZsVVRCcjNuczZ0VTRpY2RDUk9MOGxnZldPTEFmZl96NFF5dmRPdERNSVVXVk5aZ1BwdS05b0FDVU9vQ3NOTjRqSE10S3FKMzJabVVNTmdqbjRVQXNUdWxieWVjNVNlbWhtOXM5VVMtWHZrZGV0RzNRT0cwN0taSzBnd3NqOW9MS1dQVzRiNUt5YVZJUUl5dkpuZGFZWDFyUm5rQWJQdDlyOEdNVGhaaV8yYkpmeDdITUNfeUQ1ckF1UFZoS2tWVUVWQXUyRjhxdVdxSkJ3a3NJOGVKa05Lb1BtY24tYk53MDYxNGhTSzdsd25kbXg5cFpXTVRKakRycjdzNEdnUkRhSXlBcVpsQ3FQVG56WnZiNWU1TGxfeFByakZrYTZCd2JaTGJ2dGVtQmx5VTVMU1N6Q1dBRzZmYWxBM0VRZUFodWpRMmQ4REQ3WUdWaGJxVlM2R2gtUGt2T0xwWkRSa2UwQkEzd1RabUlNckJtRW16U3hGSEVCYmRJeWpZVmQybHg2MmdlVjRTQ01LcUNZRVh0LTgwMkY4NWtsWHFyNnBnUEZlTXpKU2tBWklObmlsa0FwZGNvZi1jNHJ0a0hZYTFjNDBROXdtNXFyeUUxN0M1NjhSVGhtLVVoX083aUNITDNfSlhZQW42QlZPcGg4ZkZ5T3VwbjlTekhVVDhWZ0JsU1BZSkdmUDZmQ2RhUm1vYnVZMi1xLWZiTy1iQWtzVnRCVzhSWU9iT1lhb1YwaFV2STZGMGswZ3V6bzlfSWpTVDBqUVlYeFVZQk9OOVMtaERIRU9RNkg2alJ0eHZ2MmNuN19LTEQyX3ZUS25IdnloaGNCX1diTHpPUjVhajVxOWJDN1ZBSzFXME5SNkd6MmV4VDZKaF92OEs1ai1VR1R2amp0UVIxZ3ozcUF4N0t1bVp6YVc2VmM1bEYwQmV4amlzdllQS2dZMEt4aXV1Njhxc19JQWV3UEd5dlY0aG9BZEQ1NVNzeU1jS1hJQ2pKV0NmZTV3dHh4aHZ0YUdjU0lKTlB1MEJDWmJYY2tISUZGanJjbFpTa3QyQWJTb2FVellNaHg2VWVHak8zdEV6NkhoX29WdmN2Zy1mVnpVWGZ1YWtzV3FYU1FNa0lJcjJUcTV2emk5dGZGcVdRQmpEdUlfMmtlUjRIckJaSGZFT25HLVE2YjFvTEpsX3NraGVnQUY3N3JWRjRudmFobGtvMlNuZXBFVE13NVFETU4zU2UyRTI5RG5pQmpiTWhabElIYXY5TWZFb3cwVFlIa3lFQ2NDbFF3N3BLd09meW5ablRGM0k0SVo5clY2dkhGX3daRmNNV3NRWnR6a1F5dVJJNG9yaHdvM1FiR1QwVDN0NDRuWEpqNFRZNGVUY3cwOXlvNklpUkxsVEVUR0VFeDZ5R2RpOXc1Z3BBeWFmUWtiQ2JaWmhDWDh1REoyOWpOQ0xTd0dCSUN2NzE3TUMwMjhORXMwQS1ZU0JMNmVxYlllNU53ZlRCTmVjNkhORmVoZlJpaWlsTWlXZFBsOHlDNF9wMFRzR2p6bzI1d1F5bjZxSnRqNE13WTJLRzRzUXlmYVpPbjd0QVhjYXNTS1NIakJsWTJvQmlQUUd2cXJwWkoyNUY4cjc5SWxkS19SYXRUX2NKZlJwdVFkZHFxUjd3bTNpV3k0d2tyczNtLTBINTRacDRtWXM3clYxa3VBUTJfZk5Kb01JNkZRbW8xTzhCVjRpNDljbkhCUlktT3FqMmRFdUZTMWUxZlpLdTFfSWUyakZSTDhSaU9BWlhORy1GbXNJbEQ0SG1EeTJJRkRhX3JlUkFmdUwxT0JzWWVJcDR4RTQ1dkxJZDZZVldxOU9hMDM2SWJwT1NfdFV2dVFzakVtUTdmSGNuYVlDTUZFM0IzUnlJbEQ3VUp5NEhLWW00X253ZkRVWW5wbzUtSnNQcHZTc25ndEx5SkYzVkY4NlNzZkdKZk5FQTBTczlfMGNzd3dOaGpWbGg2UUtyMnpiX2Y1QlBnTXd5SFo4aVI0UUpHQUpfVTZBMUxXQVlsOUlmMURrRDJnYmExSkUwUFZYeU5ySVpHeWV5dnNhVXA4VDFlSzlmbnZNWmRXZ3BkT2FLNDJnU3VsVEEtSEtWNkFYN19lWVVlRE5TWk01ZWpUdDhYQzcxLUFQMDhtcUphU2Z4dDR0V0pEejY3QnlIN2RmRi1WSW9YOGRTRldGLVZfZ3Z6cUZvRXgyVEtSSHQ5d1BzR0llWjBkbjNKaEJlZU5RZFZLRlkwQWJjVUlUelp3UXhub0VUOEw1MUFrMjBCMmlkQUxwdG1QUHRCcXVMV2FHT3AtM1VpeUFPTUN2MGJWcF82NlVHOXViVkNDbmwwXzBFRnFmaWZTeHZYcFp2TlM0MnN5cDhnbHRwdXVfMVJmOHpSZnlERUhVV0xHUHNJQzQ0dERESjZPdFJOSkhNTEJGVjA2dnlfakRnb19FY0lqbzNNWXNZMjZURjRqQlkxUXhLWUtzTUdOM1dtY3d3TWZhMVlHSnp2TnBvRnB1eTN3VG9ITzRhWGs2NU1jZHVFWndqdG5TY2RrNVFzcWtDRjJKSTZFWXEtQjBqY3o0UTJrZ3JyTzZfU0ppakpadGtYa2dvLU1KQkVISnVHdmlMQ2NJNVNoU2NlN3YyYWRnZllqeVltVU1tVl9Na0ZsMHl4TFZreEJ3TWdicTU1UWc5NGJ4dHlpMnVDVlhCcDZ1Nm5iNFE2Ym9tdURzSEN6MGRGUGlHUEhfT1VFbHFQcGltOEJJNkYtUWpNcGt3N254NEk3djBWYzB3bXhpNGJRdURJQmhfZm9KVC1HX1lhMkVBZEZ0b3ZRRTlmVkluYXl5YW9jcGIxTXJMMmVUUUNGUVQwM1V5UnFyMHIyV20tRHZFanZ0amxUTzJTd0M5VUxMWkp2UGtkZk1OQXBqZTFDT1NzTGM5WHd1Z1pOemRMWUFZYl91eldRQkxOVHNTNnJmM0t6Wnh5Q25jVVpienBMT0NOakc2R0NMWkZnN2ZQdmktWTFYWUhZR21HTFpORUEzTTREUzczb1BHNHNsUWFaR3drem9DNGNZbllwOVd3MVVMT2pGTHgxSmR2XzBKLWNmNkdWZUl1X3FHWkNObzNpUF8wUE0tSEZvWlQ4YVQxRWZFYktnd2t4VUJfalhKSlZmY1dOY0NadkdCNkJuSjBteW5oUXJJM3BBYzZ0WjJKLW5aNEdrbXEtc2VWVkFJcEZUb1Bfak10MHFGX3VYbmkwVkVBSGhVcklFV24wV1VwOU96RFR3OEhQRGNCZGFOaVVBU2NGVnpSSkxXS0tId3o0T3F0YWJ6d0pMRFBsdXM2Mm01OVlYQm0wRUpTU1RCc3pkaFVRSFBEX3FYT0YzcHVkalZra19CQUFwSHNtWnozZzFuRUdjVk8yT1Z1UTkzNTdoNFhlQm1NdWpvTTVuR3ZyeUNDaHVaRjRKUFV3ZUFyOUpnWGFzV2lZbTdsVFpnNklXT25WNWwtWW5CZnMxcDFLWGNZcm5wSk1mU2tUNDU4VGxmbTlGWlNNVW8tMTc0NHdUbTJJU3o2VUxPR1o4QlV4V2ZnQXQ3cHJwSGZ1YTY3T3RuUTloNE9UOXFuZDNxTXhWeFNmRXdIbm1SUWtUS2FCV2Z6UGNGZVFBcnVERFk1VVBtVS1JVUxPX2h0MTZOUFJNT2VYTkl2cWlxRnNNbk5fLXZveWJIR2ZUb1RaeE9MZGRFZGZnb0Eyc1JEZ3lJOWo0OWFUSXJmc1pGZW5ISlVvQU83WWdUWURoUTJzMmw3Z2ltRHNFem1EaUh6VS1HY2lxMUhaUmIzdXFOS29PRktCR1VpV1NscEZuUHZPVFJsQ1QzUVZHNnV2bXlrbDF4aE54a3NtTllBeEN1UHNTSmYtTVBjZWtfSFBvckdLaFFOUTFSWm9YWkVvRXRpdkxvcE5mSUdNZkhmLTlScmU0X09FYTRGYU04NnJQRElreGdXMXJLbTVjNnhDNg==)
        FCI_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmp4bHdiMjBLa0swbEpkR0RJMkkyTy1BRGNyaFhVUnJ1M21WQnFKYkZkd2EwY2d5VWdQS2NTYk1aM1ZxTzdqajRkT3FVRUJyQi1JRXJQWTFkOVA5eHlKN1JvSFdmcXl1RFIyOEhwT2xfV0hCbDFqVmM9)
        FCI_KEY_PASSWORD: Encrypted(Z0FBQUFBQmp4bHdiU28zeU5qQXBpNWdtcDZpbVRtTW5qdjdwem5Kc19GZWo0UjQ4Y0VvMnB2Zy1ucUl1TTRPdjRMT1Z6VS11VjVxV1pVWTRKZ3Fad0hUUmo4VXB4cmVxYTdKMjl3ZlA3S0FvQXFTWUFBd1Qyd2M9)
        FCI_KEY_ALIAS: Encrypted(Z0FBQUFBQmp4bHdiMDBnd3lpY3h2VlBBSno2NDdoU2hFTHhTc1FiUjRrSVRMRlB1X0hEcklzak0wSWtZYkFULXpwMjJUaUE3TjJZdERxVjVBQ2FUUzJLWnpEYmF6MVZ6eWc9PQ==)
      flutter: default
      xcode: latest
      cocoapods: default
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: '*'
          include: true
          source: true
      tag_patterns:
        - pattern: '*'
          include: true
    scripts:
      - |
        # set up key.properties
        echo $FCI_KEYSTORE | base64 --decode > $FCI_KEYSTORE_PATH
        cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
        storePassword=$FCI_KEYSTORE_PASSWORD
        keyPassword=$FCI_KEY_PASSWORD
        keyAlias=$FCI_KEY_ALIAS
        storeFile=/tmp/keystore.keystore
        EOF
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - flutter packages pub get
      - flutter build apk --release --build-name=1.0.5 --build-number=105
    artifacts:
      - build/**/outputs/apk/**/*.apk
      - build/**/outputs/bundle/**/*.aab
      - build/**/outputs/**/mapping.txt
      - '*.snap'
      - build/windows/**/*.msix
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - vrkic.stipe@gmail.com
      firebase:
        firebase_token: Encrypted(Z0FBQUFBQmp4bHdiWWZjVF9sX2p2TjdmOWxsQVRDZHJza2p1RlFkWklvNDgtT0lJTE0zUXhFU0VpZVNZVngyMk9VSEd6MldlNGk2ZzhyMFB5Y1drY053WHZxOXdRY2tPVGJCdjBhN1hrSG9mMmJoQ01HRE1URk8tajRlMDd2SUJFcWhoNVdRYUw1M2pwUnJORDZXWEtmc3FBZy1MQUdmWDctdTNvWlExZXdsZmRGMmdwZFJHdVZscWlPSE1WTzJpdnNGX0FmelpYeENhMnJqdzdZVndqNkNfT0RsV0stNWFHZz09)
        android:
          app_id: 1:461137054936:android:13b7babdf9741aadb89bad
          groups:
            - Owner
            - Test
          artifact_type: apk
